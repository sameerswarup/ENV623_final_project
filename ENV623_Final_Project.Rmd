---
title: "ENV623_Final_Project"
author: "Sameer, Josh, Graham"
date: '2025-04-13'
output: pdf_document
---

```{r clear-project}
rm(list=ls())
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r import-libraries}
library(dplyr)
library(readxl)
```

```{r import-elephant}

e_dat <- read.csv("./wildlife_insights_data/images_2009198.csv")

e_dat |>
  summarise(
    n_proboscidea = sum(order == "Proboscidea"),
    n_elephantidae = sum(family == "Elephantidae"),
    n_loxodonta = sum(genus == "Loxodonta"),
    n_loxodonta_africana = sum(species == "africana")
  ) |>
  print()

# Proboscidae is sufficent to guarantee African elephant, and
# As we can see, some datapoints are not sufficiently labeled
e_dat <- e_dat[e_dat$order == "Proboscidea", ]
```

```{r}
# rm(e_dat_filtered)
# testing_dat <- read.csv("./wildlife_insights_data/images_2009198.csv")
# table(testing_dat$identified_by)

```

```{r}
table(e_dat$deployment_id)

deployments_dat <- read.csv("./wildlife_insights_data/deployments.csv")

table(deployments_dat$start_date)

table(deployments_dat$end_date)

intersect(unique(e_dat$deployment_id), unique(deployments_dat$deployment_id))

setdiff(unique(deployments_dat$deployment_id), unique(e_dat$deployment_id))
```


```{r}
#Import iNaturalist data on trees
iNat <- read.csv("./ENV 623 - iNaturalist Observations.csv")
```

```{r}
#Filter to relevant columns and only trees
#Select rows where crown diameter is NA so it is only trees
tree_data <- iNat %>%
             filter(is.na(field.crownradius)) %>%
             select(species_guess, scientific_name, common_name, field.stemdiameter, field.treeidentifier)
```

```{r}
#Mixed effects model: Tree Diameter ~ Elephant Presence + Site + Soil type + Temperature + Precipitation
```

